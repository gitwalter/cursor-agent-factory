"""
Step definitions for {{FEATURE_NAME}} feature.

Generated by Cursor Agent Factory - BDD Skill
Framework: Behave (Python)
"""

from behave import given, when, then, step
from behave.runner import Context


# ============================================================================
# Given Steps - Setup and Preconditions
# ============================================================================

@given('{{COMMON_PRECONDITION}}')
def step_common_precondition(context: Context) -> None:
    """
    Set up common preconditions for all scenarios.
    
    Args:
        context: Behave context object for sharing state between steps
    """
    # TODO: Implement precondition setup
    pass


@given('{{GIVEN_CLAUSE}}')
def step_given_main(context: Context) -> None:
    """
    Set up the initial state for the scenario.
    
    Args:
        context: Behave context object for sharing state between steps
    """
    # TODO: Implement given step
    pass


@given('{{OUTLINE_GIVEN_CLAUSE}} with "{input_value}"')
def step_given_with_input(context: Context, input_value: str) -> None:
    """
    Set up state with parameterized input.
    
    Args:
        context: Behave context object
        input_value: Input value from scenario outline examples
    """
    context.input_value = input_value
    # TODO: Implement parameterized setup
    pass


# ============================================================================
# When Steps - Actions
# ============================================================================

@when('{{WHEN_CLAUSE}}')
def step_when_action(context: Context) -> None:
    """
    Execute the main action being tested.
    
    Args:
        context: Behave context object
    """
    # TODO: Implement action
    pass


@when('{{OUTLINE_WHEN_CLAUSE}}')
def step_when_outline_action(context: Context) -> None:
    """
    Execute action for scenario outline.
    
    Args:
        context: Behave context object
    """
    # TODO: Implement outline action
    pass


# ============================================================================
# Then Steps - Assertions
# ============================================================================

@then('{{THEN_CLAUSE}}')
def step_then_verify(context: Context) -> None:
    """
    Verify the expected outcome.
    
    Args:
        context: Behave context object
    """
    # TODO: Implement assertion
    assert True, "Expected outcome not met"


@then('{{OUTLINE_THEN_CLAUSE}} should be "{expected_result}"')
def step_then_verify_result(context: Context, expected_result: str) -> None:
    """
    Verify parameterized expected result.
    
    Args:
        context: Behave context object
        expected_result: Expected result from scenario outline examples
    """
    # TODO: Implement parameterized assertion
    actual_result = getattr(context, 'result', None)
    assert actual_result == expected_result, f"Expected {expected_result}, got {actual_result}"


@then('an appropriate error message should be displayed')
def step_then_error_message(context: Context) -> None:
    """
    Verify that an error message is displayed.
    
    Args:
        context: Behave context object
    """
    error_message = getattr(context, 'error_message', None)
    assert error_message is not None, "Expected error message but none was displayed"


# ============================================================================
# Shared/Reusable Steps
# ============================================================================

@step('I wait for {seconds:d} seconds')
def step_wait(context: Context, seconds: int) -> None:
    """
    Wait for specified duration (use sparingly).
    
    Args:
        context: Behave context object
        seconds: Number of seconds to wait
    """
    import time
    time.sleep(seconds)


@step('I log "{message}"')
def step_log_message(context: Context, message: str) -> None:
    """
    Log a debug message during scenario execution.
    
    Args:
        context: Behave context object
        message: Message to log
    """
    print(f"[BDD LOG] {message}")
