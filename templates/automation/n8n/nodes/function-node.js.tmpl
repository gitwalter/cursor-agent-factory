/**
 * {{FUNCTION_NAME}} - Function Item Processing Node
 * 
 * Purpose: {{FUNCTION_PURPOSE}}
 * Processes items individually with custom function logic
 * 
 * Template Variables:
 * - {{WORKFLOW_NAME}}: Name of the workflow
 * - {{FUNCTION_DESCRIPTION}}: Description of what the function does
 */

// Process each item individually
for (const item of $input.all()) {
  const data = item.json;
  
  try {
    // {{FUNCTION_LOGIC_DESCRIPTION}}
    {{FUNCTION_LOGIC}}
    
    // Set output fields
    item.json = {
      ...data,
      {{OUTPUT_FIELDS}}
      _processed: true,
      _processed_at: new Date().toISOString()
    };
    
  } catch (error) {
    // Handle errors for this item
    item.json = {
      ...data,
      error: true,
      error_message: error.message,
      _processed: false,
      _processed_at: new Date().toISOString()
    };
  }
}

// Return all items (modified in place)
return $input.all();
