using MediatR;

namespace {{NAMESPACE}}.Application.Commands;

/// <summary>
/// {{CLASS_NAME}} - CQRS Command
/// 
/// Purpose: {{COMMAND_PURPOSE}}
/// Author: {{AUTHOR}}
/// Created: {{DATE}}
/// 
/// Represents a command in the CQRS pattern.
/// Commands modify state and return a result.
/// </summary>
public record {{CLASS_NAME}}Command : IRequest<{{CLASS_NAME}}CommandResult>
{
    /// <summary>
    /// Gets or sets the name.
    /// </summary>
    public string Name { get; init; } = string.Empty;

    /// <summary>
    /// Gets or sets the description.
    /// </summary>
    public string? Description { get; init; }

    // TODO: Add other command properties
}

/// <summary>
/// Result returned by {{CLASS_NAME}}Command handler.
/// </summary>
public record {{CLASS_NAME}}CommandResult
{
    /// <summary>
    /// Gets or sets the created/updated entity ID.
    /// </summary>
    public {{ID_TYPE}} Id { get; init; }

    /// <summary>
    /// Gets or sets a value indicating whether the operation succeeded.
    /// </summary>
    public bool Success { get; init; }

    /// <summary>
    /// Gets or sets the error message if operation failed.
    /// </summary>
    public string? ErrorMessage { get; init; }

    /// <summary>
    /// Creates a success result.
    /// </summary>
    /// <param name="id">The entity ID.</param>
    /// <returns>A success result.</returns>
    public static {{CLASS_NAME}}CommandResult SuccessResult({{ID_TYPE}} id)
    {
        return new {{CLASS_NAME}}CommandResult
        {
            Id = id,
            Success = true
        };
    }

    /// <summary>
    /// Creates a failure result.
    /// </summary>
    /// <param name="errorMessage">The error message.</param>
    /// <returns>A failure result.</returns>
    public static {{CLASS_NAME}}CommandResult FailureResult(string errorMessage)
    {
        return new {{CLASS_NAME}}CommandResult
        {
            Success = false,
            ErrorMessage = errorMessage
        };
    }
}
