# Generated feature file from TDD unit tests
# 
# Source: {{SOURCE_TEST_FILE}}
# Trace ID: {{TRACE_ID}}
# Generated: {{GENERATION_TIMESTAMP}}
#
# This file was auto-generated from unit tests using tdd-documents-bdd mode.
# It provides stakeholder-readable documentation of tested behaviors.
# Manual refinements to language are preserved during sync.

@generated @trace-id({{TRACE_ID}})
@source({{SOURCE_TEST_FILE}})
Feature: {{FEATURE_NAME}}
  {{FEATURE_DESCRIPTION}}

  As a {{STAKEHOLDER_ROLE}}
  I want {{CAPABILITY}}
  So that {{BENEFIT}}

  # ============================================================================
  # Generated Scenarios
  # ============================================================================

  @generated-from({{SOURCE_TEST_FILE}}:{{SOURCE_TEST_CLASS}}:{{SOURCE_TEST_METHOD}})
  @implements({{SOURCE_TEST_FILE}}:{{SOURCE_TEST_METHOD}})
  Scenario: {{SCENARIO_NAME}}
    # Derived from test: {{SOURCE_TEST_METHOD}}
    # Original test docstring: {{TEST_DOCSTRING}}
    
    Given {{GIVEN_CLAUSE}}
    When {{WHEN_CLAUSE}}
    Then {{THEN_CLAUSE}}

  # ============================================================================
  # Edge Cases (Generated from test variations)
  # ============================================================================

  @generated-from({{SOURCE_TEST_FILE}}:{{SOURCE_TEST_CLASS}}:{{EDGE_TEST_METHOD}})
  @edge-case
  Scenario: {{EDGE_SCENARIO_NAME}}
    # Derived from edge case test: {{EDGE_TEST_METHOD}}
    
    Given {{EDGE_GIVEN_CLAUSE}}
    When {{EDGE_WHEN_CLAUSE}}
    Then {{EDGE_THEN_CLAUSE}}

  # ============================================================================
  # Parameterized Tests (Generated from @parametrize)
  # ============================================================================

  @generated-from({{SOURCE_TEST_FILE}}:{{PARAMETRIZED_TEST_METHOD}})
  @data-driven
  Scenario Outline: {{OUTLINE_SCENARIO_NAME}}
    # Derived from parametrized test: {{PARAMETRIZED_TEST_METHOD}}
    
    Given {{OUTLINE_GIVEN_CLAUSE}}
    When {{OUTLINE_WHEN_CLAUSE}} with "<input>"
    Then {{OUTLINE_THEN_CLAUSE}} should be "<expected>"

    Examples: From test data
      | input   | expected |
{{EXAMPLES_DATA}}

# ============================================================================
# Traceability Report
# ============================================================================
#
# Source Test File: {{SOURCE_TEST_FILE}}
# Test Class: {{SOURCE_TEST_CLASS}}
#
# Mapped Tests:
# - {{SOURCE_TEST_METHOD}} -> Scenario: {{SCENARIO_NAME}}
# - {{EDGE_TEST_METHOD}} -> Scenario: {{EDGE_SCENARIO_NAME}}
# - {{PARAMETRIZED_TEST_METHOD}} -> Scenario Outline: {{OUTLINE_SCENARIO_NAME}}
#
# Generation Notes:
# - Test method names converted to declarative scenario descriptions
# - Arrange/Act/Assert sections mapped to Given/When/Then
# - @parametrize data converted to Examples table
# - Implementation details abstracted to business language
# ============================================================================
