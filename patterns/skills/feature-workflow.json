{
  "metadata": {
    "patternId": "feature-workflow",
    "patternName": "Feature Workflow Skill",
    "category": "workflow",
    "stackAgnostic": true,
    "description": "Specification-initiated feature development workflow",
    "composable": true
  },
  "frontmatter": {
    "name": "feature-workflow",
    "description": "Specification-initiated feature development workflow",
    "type": "skill",
    "skills": ["grounding", "code-templates"],
    "knowledge": ["object-types.json"]
  },
  "sections": {
    "title": "Feature Workflow Skill",
    "introduction": "Guides the complete process of developing new features from specifications.",
    "whenToUse": [
      "When a Confluence page or specification is mentioned",
      "When developing new functionality",
      "When implementing feature requests"
    ],
    "process": [
      {
        "step": 1,
        "name": "Read Requirements",
        "description": "Fetch and analyze the specification",
        "mcpTools": ["atlassian-getConfluencePage"],
        "outputs": ["Business context", "Functional requirements", "Acceptance criteria"]
      },
      {
        "step": 2,
        "name": "Ground Data Model",
        "description": "Verify all data structures before design",
        "skillsInvoked": ["grounding"],
        "isMandatory": true
      },
      {
        "step": 3,
        "name": "Create Architecture",
        "description": "Document high-level solution design",
        "outputs": ["Architecture document"],
        "template": "templates/architecture.md"
      },
      {
        "step": 4,
        "name": "Create Technical Design",
        "description": "Create detailed technical specification",
        "outputs": ["Technical specification"],
        "template": "templates/technical_spec.md"
      },
      {
        "step": 5,
        "name": "Fetch Source",
        "description": "Acquire existing source code",
        "actions": ["Check src/ folder", "Provide manual copy instructions if needed"]
      },
      {
        "step": 6,
        "name": "Create Implementation Plan",
        "description": "Document implementation steps",
        "outputs": ["docs/{FEATURE_NAME}_plan.md"],
        "template": "templates/implementation_plan.md"
      },
      {
        "step": 7,
        "name": "Create Test Plan",
        "description": "Document testing requirements",
        "outputs": ["Test plan"],
        "template": "templates/test_plan.md"
      },
      {
        "step": 8,
        "name": "Execute Development",
        "description": "Create the actual code",
        "skillsInvoked": ["code-templates"],
        "outputs": ["New code", "Modified code", "Documentation"]
      }
    ],
    "fallbackProcedures": [
      {"condition": "If Confluence fetch fails", "action": "Ask user to provide requirements manually"},
      {"condition": "If source not available", "action": "Provide manual copy instructions"},
      {"condition": "If data model cannot be verified", "action": "ASK USER for confirmation"}
    ],
    "references": [
      "workflows/feature_workflow.md",
      "templates/technical_spec.md",
      "templates/implementation_plan.md"
    ]
  },
  "variables": [
    {"name": "{PAGE_ID}", "description": "Confluence page identifier", "required": true},
    {"name": "{FEATURE_NAME}", "description": "Feature name for artifacts", "required": true}
  ]
}
