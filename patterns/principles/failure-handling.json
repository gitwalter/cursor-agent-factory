{
  "$schema": "./principle-pattern.json",
  "title": "Failure Handling Principles",
  "description": "Principles for how agents and systems should respond to failures",
  "version": "1.0.0",
  "philosophy": "Every failure is an opportunity to learn and improve.",
  "principles": [
    {
      "principleId": "FH1_graceful_degradation",
      "name": "Graceful Degradation",
      "category": "failure_handling",
      "axiom_basis": ["A4_non_harm", "A2_user_primacy"],
      "statement": "Systems must degrade gracefully rather than fail completely",
      "rationale": "Partial functionality is better than complete failure",
      "examples": [
        "Fallback to cached data when service unavailable",
        "Disable non-critical features rather than crash",
        "Queue operations for retry rather than lose them"
      ],
      "exceptions": [
        "Security failures should fail closed, not open"
      ]
    },
    {
      "principleId": "FH2_clear_error_communication",
      "name": "Clear Error Communication",
      "category": "failure_handling",
      "axiom_basis": ["A3_transparency"],
      "statement": "Errors must be communicated clearly with context and guidance",
      "rationale": "Users need to understand what happened and what to do",
      "examples": [
        "Explain what went wrong in plain language",
        "Provide error codes for debugging",
        "Suggest recovery actions when possible"
      ],
      "exceptions": []
    },
    {
      "principleId": "FH3_fail_fast_safely",
      "name": "Fail Fast, Fail Safely",
      "category": "failure_handling",
      "axiom_basis": ["A4_non_harm"],
      "statement": "Detect failures early and fail safely before causing more damage",
      "rationale": "Early detection prevents cascading failures",
      "examples": [
        "Validate inputs before processing",
        "Check preconditions at function entry",
        "Timeout long-running operations"
      ],
      "exceptions": []
    },
    {
      "principleId": "FH4_preserve_state",
      "name": "Preserve State on Failure",
      "category": "failure_handling",
      "axiom_basis": ["A4_non_harm", "A7_reversibility"],
      "statement": "Failures should not corrupt or lose user data",
      "rationale": "Data integrity must be maintained through failures",
      "examples": [
        "Use transactions for multi-step operations",
        "Create checkpoints before risky operations",
        "Implement idempotent operations where possible"
      ],
      "exceptions": []
    },
    {
      "principleId": "FH5_log_for_learning",
      "name": "Log for Learning",
      "category": "failure_handling",
      "axiom_basis": ["A10_learning", "A3_transparency"],
      "statement": "All failures must be logged with sufficient context for analysis",
      "rationale": "Logs enable post-mortem analysis and pattern detection",
      "examples": [
        "Include stack traces for exceptions",
        "Log input parameters that caused failure",
        "Record timestamp and request ID"
      ],
      "exceptions": [
        "Avoid logging sensitive data"
      ]
    },
    {
      "principleId": "FH6_automatic_recovery",
      "name": "Automatic Recovery When Safe",
      "category": "failure_handling",
      "axiom_basis": ["A2_user_primacy"],
      "statement": "Implement automatic recovery for transient failures",
      "rationale": "Users shouldn't need to manually retry recoverable failures",
      "examples": [
        "Retry with exponential backoff for network errors",
        "Reconnect database connections automatically",
        "Restart failed background tasks"
      ],
      "exceptions": [
        "Never auto-retry destructive operations",
        "Don't retry when failure indicates logic error"
      ]
    },
    {
      "principleId": "FH7_escalation_path",
      "name": "Clear Escalation Path",
      "category": "failure_handling",
      "axiom_basis": ["A2_user_primacy", "A4_non_harm"],
      "statement": "Unrecoverable failures must have clear escalation to human oversight",
      "rationale": "Humans must be able to intervene when automation fails",
      "examples": [
        "Alert on-call for critical failures",
        "Provide UI for manual intervention",
        "Escalate axiom conflicts to users"
      ],
      "exceptions": []
    },
    {
      "principleId": "FH8_post_mortem",
      "name": "Blameless Post-Mortem",
      "category": "failure_handling",
      "axiom_basis": ["A10_learning"],
      "statement": "Significant failures should trigger blameless post-mortem analysis",
      "rationale": "Learning from failures prevents recurrence",
      "examples": [
        "Document what happened and why",
        "Identify systemic issues, not individuals",
        "Create action items for prevention"
      ],
      "exceptions": []
    }
  ]
}
