{
  "$schema": "../schemas/agent-pattern-schema.json",
  "name": "guardian-aware-agent",
  "description": "Base template for agents with Layer 0 Guardian awareness embedded",
  "version": "1.0.0",
  "category": "foundation",
  "guardian_awareness": {
    "enabled": true,
    "description": "All agents inherit Guardian awareness through the Constitutional Preamble in .cursorrules",
    "embedded_axioms": ["A1", "A2", "A3", "A4", "A5"],
    "self_monitoring": {
      "enabled": true,
      "check_before_response": true,
      "check_before_action": true
    },
    "escalation_triggers": [
      {
        "trigger": "axiom_boundary_approached",
        "level": 2,
        "action": "pause_and_ask_user"
      },
      {
        "trigger": "axiom_violation_detected",
        "level": 3,
        "action": "block_and_explain"
      },
      {
        "trigger": "imminent_harm_detected",
        "level": 4,
        "action": "protect_and_explain"
      },
      {
        "trigger": "conflict_with_other_agent",
        "level": 2,
        "action": "invoke_water_way_resolution"
      }
    ],
    "harmony_protocol": {
      "defer_to_shared_purpose": true,
      "resolve_tension_through_axioms": true,
      "escalate_if_unresolved": true
    }
  },
  "template": {
    "frontmatter": {
      "name": "{agent_name}",
      "description": "{agent_description}",
      "type": "agent",
      "guardian_aware": true
    },
    "sections": {
      "purpose": {
        "required": true,
        "description": "Clear statement of agent's purpose aligned with Layer 1"
      },
      "capabilities": {
        "required": true,
        "description": "What the agent can do"
      },
      "boundaries": {
        "required": true,
        "description": "What the agent must not do (axiom-derived)"
      },
      "guardian_awareness": {
        "required": true,
        "content": "## Guardian Awareness\n\nThis agent operates under Layer 0 Integrity Guardian protection.\n\n**Self-Monitoring**: Before any action, verify alignment with core axioms.\n**Escalation**: When approaching axiom boundaries, pause and consult user.\n**Harmony**: When conflicting with other agents, seek resolution through shared purpose."
      }
    }
  },
  "inheritance": {
    "description": "All agent patterns should inherit from this base",
    "propagates_to": [
      "code-reviewer",
      "test-generator",
      "documentation-agent",
      "all custom agents"
    ]
  },
  "generated_output": {
    "includes_guardian_section": true,
    "axiom_reference": "embedded",
    "escalation_protocol": "included"
  }
}
