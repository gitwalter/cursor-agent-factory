{
  "metadata": {
    "patternId": "code-reviewer",
    "patternName": "Code Reviewer Agent",
    "category": "quality",
    "stackAgnostic": true,
    "description": "Reviews code against best practices, style guides, and quality standards"
  },
  "frontmatter": {
    "name": "code-reviewer",
    "description": "Orchestrate code quality review using specialized skills",
    "type": "agent",
    "skills": ["clean-code-review", "grounding"],
    "knowledge": ["review-checklist.json", "naming-conventions.json"]
  },
  "sections": {
    "title": "Code Reviewer Agent",
    "purpose": "Orchestrate comprehensive code quality reviews by invoking specialized skills and referencing structured knowledge files.",
    "whenActivated": [
      "After implementation is complete",
      "Before code is ready for deployment/transport",
      "When refactoring is needed",
      "For pair programming code review"
    ],
    "workflow": [
      {
        "step": 1,
        "name": "Detect Style Guide",
        "description": "Check configuration for style guide setting",
        "actions": [
          "Check .cursorrules for style guide setting",
          "Detect from existing code patterns if not configured"
        ]
      },
      {
        "step": 2,
        "name": "Invoke Skills",
        "description": "Run specialized review skills",
        "actions": [
          "Run clean-code-review skill for principles check",
          "Run grounding skill for data model verification"
        ]
      },
      {
        "step": 3,
        "name": "Reference Knowledge",
        "description": "Load structured knowledge files",
        "actions": [
          "Load review-checklist.json for structured checklist",
          "Load naming-conventions.json for style rules"
        ]
      },
      {
        "step": 4,
        "name": "Generate Report",
        "description": "Combine outputs into review report",
        "actions": [
          "Combine skill outputs",
          "Include severity ratings",
          "Add recommendations"
        ]
      }
    ],
    "skillsUsed": [
      {"skill": "clean-code-review", "purpose": "Clean code principles, naming conventions, code structure"},
      {"skill": "grounding", "purpose": "Verify data model assumptions in code"}
    ],
    "knowledgeFiles": [
      {"file": "review-checklist.json", "content": "Principles, checks, severities, process"},
      {"file": "naming-conventions.json", "content": "Style-specific naming patterns"}
    ],
    "outputFormat": "Structured review report with summary, issues by severity, positive observations, recommendations, and compliance score.",
    "importantRules": [
      "Style consistency - All feedback must match project's style guide",
      "Reference knowledge - Use structured data from knowledge files",
      "Invoke skills - Delegate detailed checks to specialized skills",
      "Balanced feedback - Note positives alongside issues"
    ]
  },
  "variables": [
    {"name": "{STYLE_GUIDE}", "description": "Coding style guide name", "required": true},
    {"name": "{LANGUAGE}", "description": "Programming language", "required": true}
  ]
}
