{
  "$schema": "./practice-pattern.json",
  "title": "Craft Practices",
  "description": "Practices that maintain and elevate the quality of our work",
  "version": "1.0.0",
  "philosophy": "God is in the details. Every line of code is an opportunity for excellence.",
  "practices": [
    {
      "practiceId": "P4_code_as_craft",
      "name": "Code as Craft Review",
      "frequency": "per_commit",
      "duration": "2-5 minutes",
      "purpose": "Ensure every commit reflects our commitment to excellence",
      "axiom_alignment": ["A1_verifiability", "A3_transparency", "A5_consistency"],
      "participants": ["individual"],
      "steps": [
        {
          "step": 1,
          "action": "Review the diff",
          "guidance": "Read through all changes as if reviewing a colleague's work"
        },
        {
          "step": 2,
          "action": "Check readability",
          "guidance": "Will this be clear to someone reading it in 6 months?"
        },
        {
          "step": 3,
          "action": "Verify completeness",
          "guidance": "Are tests present? Is documentation updated?"
        },
        {
          "step": 4,
          "action": "Consider impact",
          "guidance": "Could this change harm users or systems?"
        },
        {
          "step": 5,
          "action": "Write meaningful commit message",
          "guidance": "Describe the 'why', not just the 'what'"
        }
      ],
      "checklist": [
        "[ ] Code is self-documenting and clear",
        "[ ] Tests cover new functionality",
        "[ ] No unnecessary complexity added",
        "[ ] Error handling is complete",
        "[ ] No debug code or temporary hacks",
        "[ ] Commit message explains intent"
      ],
      "reflection_prompts": [
        "Would I be proud to show this to a mentor?",
        "Is this the simplest solution that works?",
        "Have I left the codebase better than I found it?"
      ],
      "artifacts": ["Clean commit with meaningful message"],
      "success_indicators": [
        "Code passes review without major issues",
        "No technical debt introduced",
        "Commit history tells a clear story"
      ]
    },
    {
      "practiceId": "P5_thoughtful_review",
      "name": "Thoughtful Code Review",
      "frequency": "per_task",
      "duration": "15-30 minutes",
      "purpose": "Elevate quality through collaborative refinement",
      "axiom_alignment": ["A1_verifiability", "A3_transparency", "A2_user_primacy"],
      "participants": ["reviewer", "author"],
      "steps": [
        {
          "step": 1,
          "action": "Understand the context",
          "guidance": "Read the ticket/spec to understand the goal"
        },
        {
          "step": 2,
          "action": "Review holistically first",
          "guidance": "Does the overall approach make sense?"
        },
        {
          "step": 3,
          "action": "Review the details",
          "guidance": "Check logic, edge cases, error handling"
        },
        {
          "step": 4,
          "action": "Consider the user",
          "guidance": "Will this serve our stakeholders well?"
        },
        {
          "step": 5,
          "action": "Provide constructive feedback",
          "guidance": "Be specific, kind, and helpful"
        },
        {
          "step": 6,
          "action": "Acknowledge excellence",
          "guidance": "Call out what was done well"
        }
      ],
      "review_dimensions": [
        "Correctness: Does it do what it should?",
        "Clarity: Is the intent obvious?",
        "Completeness: Are edge cases handled?",
        "Consistency: Does it follow our patterns?",
        "Craft: Does it reflect excellence?"
      ],
      "reflection_prompts": [
        "Would this code survive contact with real users?",
        "What can I learn from how this was implemented?",
        "How can my feedback help the author grow?"
      ],
      "artifacts": ["Review comments", "Approval or change requests"],
      "success_indicators": [
        "Author learns from feedback",
        "Code quality improves",
        "Mutual respect maintained"
      ]
    },
    {
      "practiceId": "P6_refactoring_discipline",
      "name": "Continuous Refactoring",
      "frequency": "continuous",
      "duration": "ongoing",
      "purpose": "Leave every file better than you found it",
      "axiom_alignment": ["A6_minimalism", "A5_consistency"],
      "participants": ["individual"],
      "boy_scout_rule": "Always leave the campground cleaner than you found it",
      "steps": [
        {
          "step": 1,
          "action": "Notice improvement opportunities",
          "guidance": "While working, observe code that could be clearer"
        },
        {
          "step": 2,
          "action": "Make small improvements",
          "guidance": "Rename unclear variables, extract methods, simplify logic"
        },
        {
          "step": 3,
          "action": "Keep changes minimal",
          "guidance": "Don't mix refactoring with feature work"
        },
        {
          "step": 4,
          "action": "Ensure tests pass",
          "guidance": "Verify refactoring didn't break functionality"
        }
      ],
      "safe_refactorings": [
        "Rename for clarity",
        "Extract method/function",
        "Remove dead code",
        "Simplify conditionals",
        "Add missing documentation"
      ],
      "reflection_prompts": [
        "Is this code clearer than before?",
        "Did I reduce complexity or add to it?",
        "Will the next person thank me or curse me?"
      ],
      "artifacts": ["Cleaner codebase"],
      "success_indicators": [
        "Code quality trends upward over time",
        "New developers onboard faster",
        "Bugs decrease in refactored areas"
      ]
    },
    {
      "practiceId": "P11_three_amigos",
      "name": "Three Amigos Session",
      "frequency": "per_story",
      "duration": "30-60 minutes",
      "purpose": "Collaborative discovery ensuring shared understanding across Business, Development, and Testing perspectives",
      "axiom_alignment": ["A2_user_primacy", "A3_transparency", "A1_verifiability"],
      "participants": ["product_owner", "developer", "qa_engineer"],
      "optional": true,
      "enabled_when": ["bdd_enabled", "stakeholder_collaboration_required"],
      "steps": [
        {
          "step": 1,
          "action": "Present the user story",
          "guidance": "Product Owner explains the story and acceptance criteria"
        },
        {
          "step": 2,
          "action": "Identify business rules",
          "guidance": "Extract explicit and implicit rules from the story"
        },
        {
          "step": 3,
          "action": "Create concrete examples",
          "guidance": "For each rule, define examples that illustrate it"
        },
        {
          "step": 4,
          "action": "Explore edge cases",
          "guidance": "Developer and QA identify boundary conditions and error scenarios"
        },
        {
          "step": 5,
          "action": "Capture questions",
          "guidance": "Document unknowns for follow-up with stakeholders"
        },
        {
          "step": 6,
          "action": "Draft Gherkin scenarios",
          "guidance": "Convert examples into Given-When-Then format"
        }
      ],
      "example_mapping": {
        "story_card": "Yellow - The user story being discussed",
        "rule_cards": "Blue - Business rules extracted from the story",
        "example_cards": "Green - Concrete examples for each rule",
        "question_cards": "Red - Questions requiring stakeholder input"
      },
      "reflection_prompts": [
        "Do we all have the same understanding of this story?",
        "Have we covered the happy path, edge cases, and error scenarios?",
        "Can we write executable specifications from these examples?"
      ],
      "artifacts": [
        "Example map with rules and examples",
        "Draft Gherkin scenarios",
        "Questions for stakeholder follow-up"
      ],
      "success_indicators": [
        "All three perspectives represented",
        "Shared understanding achieved",
        "Scenarios ready for automation",
        "Questions captured for resolution"
      ],
      "integration_with_bdd": {
        "description": "Three Amigos is the Discovery phase of BDD workflow",
        "output_to": "Gherkin feature files",
        "timing": "Before sprint or when story is ready for development"
      }
    }
  ]
}
