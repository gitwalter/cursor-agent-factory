{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Methodology Pattern Schema",
  "description": "Schema for Layer 3 methodology templates that define how work is organized",
  "version": "1.0.0",
  "type": "object",
  "required": ["methodologyId", "name", "pattern", "agents", "ceremonies"],
  "properties": {
    "methodologyId": {
      "type": "string",
      "pattern": "^[a-z]+-[a-z]+$",
      "description": "Unique identifier for the methodology",
      "examples": ["agile-scrum", "research-development", "enterprise-integration"]
    },
    "name": {
      "type": "string",
      "description": "Human-readable name for the methodology"
    },
    "pattern": {
      "type": "string",
      "description": "Coordination pattern type",
      "examples": ["domain_expert_swarm + peer_collaboration", "knowledge_mesh + adaptive_learning"]
    },
    "maturity": {
      "type": "string",
      "enum": ["proven", "emerging", "experimental"],
      "description": "Maturity level of this methodology"
    },
    "use_cases": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Suitable use cases for this methodology"
    },
    "agents": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "required": ["role", "responsibilities", "authority_level"],
        "properties": {
          "role": {"type": "string", "description": "Role description"},
          "responsibilities": {
            "type": "array",
            "items": {"type": "string"},
            "description": "List of responsibilities"
          },
          "authority_level": {"type": "string", "description": "Decision authority scope"},
          "count": {"type": "string", "description": "Number of agents (e.g., '3-6')"},
          "communication_style": {"type": "string", "description": "How this agent communicates"}
        }
      },
      "description": "Agent roles and their configurations"
    },
    "ceremonies": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "required": ["frequency", "duration", "format"],
        "properties": {
          "frequency": {"type": "string", "description": "How often (daily, weekly, sprint_end)"},
          "duration": {"type": "string", "description": "Duration (15_minutes, 1-2_hours)"},
          "format": {"type": "string", "description": "Meeting format"},
          "participants": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Who participates"
          }
        }
      },
      "description": "Ceremonies and their configurations"
    },
    "quality_gates": {
      "type": "object",
      "additionalProperties": {"type": "string"},
      "description": "Quality gate definitions"
    },
    "metrics": {
      "type": "object",
      "description": "Metrics to track"
    },
    "coordination": {
      "type": "object",
      "description": "Coordination mechanisms between agents"
    },
    "innovation_framework": {
      "type": "object",
      "description": "Innovation and risk framework (for R&D methodologies)"
    },
    "compliance_framework": {
      "type": "object",
      "description": "Compliance requirements (for enterprise methodologies)"
    }
  }
}
