{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Best Practices",
  "description": "Cross-stack best practices for Cursor agent systems",
  "version": "1.0.0",
  "agentDesign": {
    "principles": [
      {
        "name": "Single Responsibility",
        "description": "Each agent should have one clear purpose",
        "examples": ["Code Reviewer reviews code", "Test Generator creates tests"]
      },
      {
        "name": "Skill Composition",
        "description": "Agents should delegate to reusable skills",
        "examples": ["Agent uses grounding skill for data verification"]
      },
      {
        "name": "Knowledge Reference",
        "description": "Use structured JSON knowledge files for reference data",
        "examples": ["naming-conventions.json", "object-types.json"]
      },
      {
        "name": "Clear Activation",
        "description": "Document when each agent should be activated",
        "examples": ["When Jira ticket mentioned", "After implementation complete"]
      }
    ],
    "frontmatter": {
      "required": ["name", "description", "type"],
      "optional": ["skills", "knowledge", "model", "is_background", "readonly"],
      "example": {
        "name": "agent-name",
        "description": "What this agent does",
        "type": "agent",
        "skills": ["skill-1", "skill-2"],
        "knowledge": ["file.json"]
      }
    }
  },
  "skillDesign": {
    "principles": [
      {
        "name": "Reusability",
        "description": "Skills should be reusable across multiple agents",
        "examples": ["Grounding skill used by bugfix and feature workflows"]
      },
      {
        "name": "Clear Process",
        "description": "Document step-by-step process with clear outputs",
        "examples": ["Step 1: Read ticket → Step 2: Analyze → Step 3: Plan"]
      },
      {
        "name": "Fallback Procedures",
        "description": "Define what to do when things go wrong",
        "examples": ["If ticket fetch fails → Ask user for details"]
      },
      {
        "name": "Reference Documentation",
        "description": "Include references folder for detailed documentation",
        "examples": ["references/common-patterns.md"]
      }
    ],
    "structure": {
      "required": ["SKILL.md"],
      "optional": ["references/"],
      "frontmatter": ["name", "description", "type", "skills", "knowledge", "templates"]
    }
  },
  "knowledgeFiles": {
    "principles": [
      {
        "name": "Structured JSON",
        "description": "Use JSON for machine-readable reference data",
        "examples": ["naming-conventions.json", "service-catalog.json"]
      },
      {
        "name": "Schema Validation",
        "description": "Include $schema for validation",
        "examples": ["$schema: http://json-schema.org/draft-07/schema#"]
      },
      {
        "name": "Query Patterns",
        "description": "Document how to query the data",
        "examples": ["tables['{TABLE_NAME}']", "conventions.variables"]
      }
    ],
    "naming": {
      "pattern": "kebab-case.json",
      "examples": ["naming-conventions.json", "object-types.json", "service-catalog.json"]
    }
  },
  "cursorrules": {
    "sections": [
      {"name": "Project Context", "purpose": "Describe project and environment"},
      {"name": "Configuration Variables", "purpose": "Define configurable values"},
      {"name": "Available Agents", "purpose": "List agents and activation triggers"},
      {"name": "Available Skills", "purpose": "List skills and purposes"},
      {"name": "Autonomous Behavior Rules", "purpose": "Define agent behaviors"},
      {"name": "Variable Notation", "purpose": "Define placeholder conventions"},
      {"name": "Error Handling", "purpose": "Define fallback procedures"}
    ],
    "variableNotation": {
      "format": "{VARIABLE_NAME}",
      "case": "UPPER_SNAKE_CASE",
      "examples": ["{PROJECT_NAME}", "{CLASS_NAME}", "{TICKET_ID}"]
    }
  },
  "workflowDesign": {
    "principles": [
      {
        "name": "Clear Trigger",
        "description": "Define what initiates the workflow",
        "examples": ["Jira ticket mention", "Confluence page reference"]
      },
      {
        "name": "Step-by-Step",
        "description": "Document each phase with actions and outputs",
        "examples": ["Phase 1: Read → Phase 2: Analyze → Phase 3: Plan"]
      },
      {
        "name": "Artifacts",
        "description": "Define what artifacts are produced",
        "examples": ["implementation_plan.md", "code changes", "test cases"]
      },
      {
        "name": "Fallbacks",
        "description": "Handle failure scenarios gracefully",
        "examples": ["If source not found → Provide manual copy instructions"]
      }
    ]
  },
  "templateDesign": {
    "principles": [
      {
        "name": "Consistent Variables",
        "description": "Use consistent placeholder naming",
        "examples": ["{CLASS_NAME}", "{METHOD_NAME}", "{DESCRIPTION}"]
      },
      {
        "name": "Style Variants",
        "description": "Support multiple coding styles when applicable",
        "examples": ["clean-abap/", "hungarian/"]
      },
      {
        "name": "Complete Examples",
        "description": "Templates should be functional when variables are replaced",
        "examples": ["Complete class definition, not snippets"]
      }
    ],
    "organization": {
      "codeTemplates": "templates/{language}/{category}/",
      "documentTemplates": "templates/docs/",
      "promptTemplates": "templates/prompts/"
    }
  },
  "projectStructure": {
    "standard": {
      "directories": [
        {".cursor/agents/": "AI agent definitions"},
        {".cursor/skills/": "Reusable skill definitions"},
        {"knowledge/": "Structured reference data (JSON)"},
        {"templates/": "Code and document templates"},
        {"workflows/": "Workflow documentation"},
        {"scripts/": "Utility scripts"},
        {"diagrams/": "Architecture diagrams"},
        {"docs/": "User documentation"},
        {"src/": "Source code (user-created)"}
      ],
      "files": [
        {".cursorrules": "LLM agent behavior instructions"},
        {"README.md": "Project documentation"}
      ]
    }
  },
  "namingConventions": {
    "agents": {
      "pattern": "{agent-name}.md",
      "case": "kebab-case",
      "examples": ["code-reviewer.md", "test-generator.md"]
    },
    "skills": {
      "pattern": "{skill-name}/SKILL.md",
      "case": "kebab-case",
      "examples": ["bugfix-workflow/SKILL.md", "code-templates/SKILL.md"]
    },
    "knowledge": {
      "pattern": "{topic}.json",
      "case": "kebab-case",
      "examples": ["naming-conventions.json", "object-types.json"]
    },
    "workflows": {
      "pattern": "{workflow}_workflow.md",
      "case": "snake_case",
      "examples": ["bugfix_workflow.md", "feature_workflow.md"]
    }
  }
}
