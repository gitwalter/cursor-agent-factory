# Travel Booking RAP - Methodology Configuration
# Layer 3: Enterprise Integration Methodology

methodology:
  name: Enterprise Integration
  description: Structured development with change management and CAB approval

team:
  size: 4-8
  roles:
    - Product Owner
    - Tech Lead
    - Senior ABAP Developer
    - ABAP Developers
    - SAP Basis Liaison

change_management:
  approach: transport-based
  approval: CAB (Change Advisory Board)
  release_windows:
    - Thursday evening (weekly)
    - Month-end freeze (last week)

transport_workflow:
  states:
    - name: Development
      system: DEV
      actions: create, modify, test
    
    - name: Quality
      system: QAS
      actions: integration test, user acceptance
    
    - name: Production
      system: PRD
      actions: release (with CAB approval)

  gates:
    dev_to_qas:
      - ATC check passed
      - ABAP Unit tests pass
      - Peer review approved
      - Documentation complete
    
    qas_to_prd:
      - Integration tests pass
      - User acceptance signed
      - CAB approved
      - Rollback plan documented

cab_process:
  frequency: weekly
  lead_time: 3 days minimum
  submissions:
    - transport list
    - change description
    - risk level (low/medium/high)
    - rollback plan
    - test evidence

ceremonies:
  sprint_planning:
    frequency: bi-weekly
    duration: 2 hours
    focus: Transport-ready stories

  daily_sync:
    frequency: daily
    duration: 15 minutes
    focus: Transport dependencies, blockers

  sprint_review:
    frequency: bi-weekly
    duration: 1 hour
    participants: team + business stakeholders

  cab_preparation:
    frequency: weekly (before CAB)
    duration: 30 minutes
    focus: Transport review, risk assessment

code_review:
  required: true
  min_approvers: 1
  checklist:
    - RAP patterns correct
    - CDS annotations complete
    - ABAP Clean Code
    - Test coverage sufficient
    - SAP docs referenced

quality_gates:
  development:
    - syntax_check: pass
    - atc_check: no errors
    - unit_tests: pass

  transport_release:
    - peer_review: approved
    - coverage: >= 80%
    - documentation: complete

  production:
    - cab_approval: obtained
    - rollback_plan: documented
    - integration_tests: pass

metrics:
  tracked:
    - transport_success_rate
    - atc_findings
    - cab_rejection_rate
    - rollback_frequency
  
  review: monthly

agent_guidelines:
  follow_transport_workflow: true
  require_cab_for_production: true
  enforce_atc_checks: true
  ground_in_sap_docs: true
