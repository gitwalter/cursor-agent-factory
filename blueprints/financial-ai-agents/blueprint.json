{
  "metadata": {
    "blueprintId": "financial-ai-agents",
    "blueprintName": "Financial AI Agents Blueprint",
    "description": "AI agents for investment analysis, trading decisions, and portfolio management",
    "version": "1.0.0",
    "author": "Cursor Agent Factory",
    "tags": ["python", "ai", "agents", "trading", "finance", "investment", "langchain", "ml"],
    "extends": "ai-agent-development"
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {"name": "LangChain", "version": "0.3+", "purpose": "Agent framework"},
      {"name": "LangGraph", "version": "0.2+", "purpose": "Stateful workflows"},
      {"name": "pandas", "version": "2.x", "purpose": "Data manipulation"},
      {"name": "numpy", "version": "1.26+", "purpose": "Numerical computing"},
      {"name": "vectorbt", "version": "0.26+", "purpose": "Backtesting"},
      {"name": "scikit-learn", "version": "1.4+", "purpose": "ML models"},
      {"name": "FastAPI", "version": "0.115+", "purpose": "API endpoints"},
      {"name": "Streamlit", "version": "1.30+", "purpose": "Dashboard UI"}
    ],
    "dataSources": [
      {"name": "yfinance", "purpose": "Yahoo Finance data"},
      {"name": "ccxt", "purpose": "Cryptocurrency exchanges"},
      {"name": "alpaca-trade-api", "purpose": "US equities (live trading)"},
      {"name": "polygon-api-client", "purpose": "Real-time market data"}
    ],
    "databases": [
      {"type": "vector", "name": "ChromaDB", "purpose": "Market research embeddings"},
      {"type": "sql", "name": "PostgreSQL", "purpose": "Trade history and analytics"},
      {"type": "cache", "name": "Redis", "purpose": "Real-time data caching"}
    ],
    "llmProviders": [
      {"name": "OpenAI", "models": ["gpt-4", "gpt-4-turbo"], "purpose": "Analysis and reasoning"},
      {"name": "Anthropic", "models": ["claude-3-opus", "claude-3-sonnet"], "purpose": "Long-context analysis"}
    ],
    "tools": [
      {"name": "pytest", "purpose": "Testing"},
      {"name": "ruff", "purpose": "Linting"},
      {"name": "mypy", "purpose": "Type checking"},
      {"name": "langsmith", "purpose": "Agent tracing"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"skills": ["clean-code-review", "grounding"]}},
    {"patternId": "test-generator", "required": true, "customizations": {"skills": ["tdd", "backtesting-validation"]}},
    {"patternId": "strategy-analyst", "required": true, "customizations": {"focus": "trading-strategy-analysis"}},
    {"patternId": "market-analyst", "required": true, "customizations": {"focus": "market-data-analysis"}},
    {"patternId": "explorer", "required": false}
  ],
  "skills": [
    {"patternId": "trading-strategy", "required": true},
    {"patternId": "backtesting-validation", "required": true},
    {"patternId": "risk-analysis", "required": true},
    {"patternId": "prompt-engineering", "required": true},
    {"patternId": "grounding", "required": true},
    {"patternId": "tdd", "required": true},
    {"patternId": "bugfix-workflow", "required": true},
    {"patternId": "feature-workflow", "required": true}
  ],
  "knowledge": [
    {"filename": "trading-patterns.json", "description": "Trading strategy patterns"},
    {"filename": "quantitative-finance.json", "description": "Risk metrics and portfolio theory"},
    {"filename": "risk-management.json", "description": "Position sizing and risk controls"},
    {"filename": "langchain-patterns.json", "description": "LangChain best practices"},
    {"filename": "prompt-engineering.json", "description": "Prompt optimization"}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "market-analyst-agent", "directory": "templates/trading/agents/"},
      {"category": "trading-executor-agent", "directory": "templates/trading/agents/"},
      {"category": "momentum-strategy", "directory": "templates/trading/strategies/"},
      {"category": "backtest-runner", "directory": "templates/trading/backtesting/"},
      {"category": "position-sizer", "directory": "templates/trading/risk/"},
      {"category": "agent-base", "directory": "templates/ai/agent/"}
    ],
    "documentTemplates": [
      {"name": "strategy_report.md", "directory": "templates/docs/"},
      {"name": "agent_design.md", "directory": "templates/docs/"}
    ]
  },
  "workflows": [
    {"patternId": "strategy-development", "customizations": {}},
    {"patternId": "agent-development", "customizations": {}},
    {"patternId": "jira-bugfix", "customizations": {}}
  ],
  "mcpServers": [
    {"name": "deepwiki", "url": "https://mcp.deepwiki.com/mcp", "purpose": "Financial library docs", "required": false}
  ],
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "agents/", "purpose": "Financial AI agents"},
      {"path": "agents/analyst/", "purpose": "Market analysis agents"},
      {"path": "agents/trader/", "purpose": "Trading execution agents"},
      {"path": "agents/risk/", "purpose": "Risk management agents"},
      {"path": "strategies/", "purpose": "Trading strategies"},
      {"path": "data/", "purpose": "Data fetching and processing"},
      {"path": "backtesting/", "purpose": "Backtesting framework"},
      {"path": "risk/", "purpose": "Risk management"},
      {"path": "prompts/", "purpose": "Agent prompts"},
      {"path": "tools/", "purpose": "Agent tools"},
      {"path": "apps/", "purpose": "Streamlit dashboards"},
      {"path": "api/", "purpose": "FastAPI endpoints"},
      {"path": "tests/", "purpose": "Test files"},
      {"path": "knowledge/", "purpose": "Reference data"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "README.md", "purpose": "Documentation"},
      {"path": "pyproject.toml", "purpose": "Python config"}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "PYTHON_PATH", "default": "C:\\App\\Anaconda\\python.exe"},
      {"name": "LLM_PROVIDER", "default": "openai"},
      {"name": "BACKTEST_ENGINE", "default": "vectorbt"},
      {"name": "LIVE_TRADING_ENABLED", "default": "false"}
    ],
    "rules": [
      {"name": "Type Hints", "description": "Always use type hints"},
      {"name": "Docstrings", "description": "Google-style docstrings"},
      {"name": "Risk First", "description": "All strategies MUST include risk management"},
      {"name": "No Live Without Approval", "description": "NEVER execute live trades without explicit human approval"},
      {"name": "Backtest Validation", "description": "Validate all strategies with out-of-sample testing"},
      {"name": "Tracing", "description": "Enable LangSmith tracing for all agent operations"}
    ]
  },
  "financialAgentPatterns": {
    "analyst_agents": [
      {"name": "Market Analyst", "purpose": "Analyze market conditions and trends"},
      {"name": "Fundamental Analyst", "purpose": "Analyze company fundamentals"},
      {"name": "Technical Analyst", "purpose": "Analyze price patterns and indicators"},
      {"name": "Sentiment Analyst", "purpose": "Analyze market sentiment"}
    ],
    "trading_agents": [
      {"name": "Signal Generator", "purpose": "Generate trading signals"},
      {"name": "Order Manager", "purpose": "Manage order execution"},
      {"name": "Position Manager", "purpose": "Manage open positions"}
    ],
    "risk_agents": [
      {"name": "Risk Calculator", "purpose": "Calculate portfolio risk metrics"},
      {"name": "Position Sizer", "purpose": "Determine optimal position sizes"},
      {"name": "Alert Monitor", "purpose": "Monitor risk thresholds"}
    ]
  },
  "safetyRequirements": {
    "mandatory": [
      "No live trading without explicit human confirmation",
      "Maximum position size limits enforced",
      "Stop-loss on all positions",
      "Daily loss limits with automatic shutdown",
      "Audit logging for all trading decisions"
    ],
    "recommended": [
      "Paper trading validation before live",
      "Gradual position size scaling",
      "Real-time monitoring dashboard",
      "Alert notifications for anomalies"
    ]
  },
  "axiomAlignment": {
    "A1_verifiability": "All trading decisions logged with reasoning",
    "A2_user_primacy": "Human approval required for live trades",
    "A3_transparency": "Clear explanation of analysis and signals",
    "A4_non_harm": "Risk limits prevent catastrophic losses",
    "A5_consistency": "Behavior derived from documented strategies"
  }
}
