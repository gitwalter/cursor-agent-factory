{
  "metadata": {
    "blueprintId": "python-rag-system",
    "blueprintName": "Python RAG System Blueprint",
    "description": "Production-ready Retrieval-Augmented Generation systems with LangChain and vector databases",
    "version": "1.0.0",
    "author": "Cursor Agent Factory",
    "tags": ["python", "rag", "langchain", "vector-db", "llm", "retrieval"],
    "purpose": "Enable development of production RAG applications with proper chunking, retrieval, and evaluation"
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {"name": "LangChain", "version": "0.3+", "purpose": "RAG framework"},
      {"name": "LangGraph", "version": "0.2+", "purpose": "Complex RAG workflows", "optional": true},
      {"name": "LlamaIndex", "version": "0.10+", "purpose": "Alternative RAG framework", "optional": true},
      {"name": "FastAPI", "version": "0.100+", "purpose": "API serving"},
      {"name": "Streamlit", "version": "1.30+", "purpose": "Demo UI", "optional": true},
      {"name": "Pydantic", "version": "2.0+", "purpose": "Data validation"}
    ],
    "databases": [
      {"type": "vector", "name": "ChromaDB", "purpose": "Development vector store"},
      {"type": "vector", "name": "Qdrant", "purpose": "Production vector store", "optional": true},
      {"type": "vector", "name": "Pinecone", "purpose": "Managed vector store", "optional": true},
      {"type": "sql", "name": "PostgreSQL", "purpose": "Metadata storage", "optional": true}
    ],
    "llmProviders": [
      {"name": "OpenAI", "models": ["gpt-4o", "gpt-4o-mini", "text-embedding-3-small"], "purpose": "Primary LLM and embeddings"},
      {"name": "Anthropic", "models": ["claude-3-5-sonnet"], "purpose": "Alternative LLM", "optional": true},
      {"name": "Ollama", "models": ["llama3.2", "nomic-embed-text"], "purpose": "Local models", "optional": true}
    ],
    "tools": [
      {"name": "pytest", "purpose": "Testing"},
      {"name": "ruff", "purpose": "Linting"},
      {"name": "ragas", "purpose": "RAG evaluation"},
      {"name": "langsmith", "purpose": "Tracing and debugging"}
    ],
    "styleGuides": [
      {"name": "pep8", "description": "PEP 8 Style Guide"},
      {"name": "google", "description": "Google Python Style"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"skills": ["clean-code-review"]}},
    {"patternId": "test-generator", "required": true, "customizations": {"skills": ["tdd"]}},
    {"patternId": "documentation-agent", "required": true}
  ],
  "skills": [
    {"patternId": "prompt-engineering", "required": true},
    {"patternId": "bugfix-workflow", "required": true},
    {"patternId": "feature-workflow", "required": true},
    {"patternId": "grounding", "required": true}
  ],
  "knowledge": [
    {"filename": "langchain-patterns.json", "description": "LangChain patterns"},
    {"filename": "vector-database-patterns.json", "description": "Vector DB patterns"},
    {"filename": "rag-patterns.json", "description": "RAG-specific patterns"},
    {"filename": "llm-provider-comparison.json", "description": "LLM provider selection"}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "ingestion", "directory": "templates/rag/ingestion/"},
      {"category": "retrieval", "directory": "templates/rag/retrieval/"},
      {"category": "generation", "directory": "templates/rag/generation/"},
      {"category": "evaluation", "directory": "templates/rag/evaluation/"}
    ],
    "documentTemplates": [
      {"name": "rag_architecture.md", "directory": "templates/docs/"}
    ]
  },
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "src/", "purpose": "Source code"},
      {"path": "src/ingestion/", "purpose": "Document ingestion"},
      {"path": "src/retrieval/", "purpose": "Retrieval logic"},
      {"path": "src/generation/", "purpose": "LLM generation"},
      {"path": "src/evaluation/", "purpose": "RAG evaluation"},
      {"path": "src/api/", "purpose": "API endpoints"},
      {"path": "src/ui/", "purpose": "Streamlit UI", "optional": true},
      {"path": "data/", "purpose": "Source documents"},
      {"path": "vectorstore/", "purpose": "Vector database files"},
      {"path": "prompts/", "purpose": "Prompt templates"},
      {"path": "tests/", "purpose": "Test files"},
      {"path": "tests/evals/", "purpose": "Evaluation datasets"},
      {"path": "docs/", "purpose": "Documentation"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "README.md", "purpose": "Project documentation"},
      {"path": "pyproject.toml", "purpose": "Python project config"},
      {"path": "requirements.txt", "purpose": "Dependencies"},
      {"path": "main.py", "purpose": "Application entry point"},
      {"path": "ingest.py", "purpose": "Document ingestion script"},
      {"path": "Dockerfile", "purpose": "Container definition"},
      {"path": ".env.example", "purpose": "Environment template"}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "PYTHON_PATH", "description": "Python executable", "default": "python"},
      {"name": "OPENAI_API_KEY", "description": "OpenAI API key", "default": ""},
      {"name": "LANGCHAIN_TRACING_V2", "description": "Enable LangSmith", "default": "true"},
      {"name": "CHUNK_SIZE", "description": "Document chunk size", "default": "1000"},
      {"name": "CHUNK_OVERLAP", "description": "Chunk overlap", "default": "200"}
    ],
    "rules": [
      {"name": "Chunking Strategy", "description": "Use RecursiveCharacterTextSplitter with appropriate chunk size"},
      {"name": "Metadata Preservation", "description": "Always preserve source metadata in chunks"},
      {"name": "Hybrid Search", "description": "Consider hybrid search for production"},
      {"name": "Evaluation", "description": "Evaluate with RAGAS before deployment"},
      {"name": "Tracing", "description": "Enable LangSmith tracing for debugging"},
      {"name": "Caching", "description": "Implement caching for repeated queries"}
    ]
  }
}
