{
  "metadata": {
    "blueprintId": "solidity-ethereum",
    "blueprintName": "Solidity Ethereum Blueprint",
    "description": "Smart contract development with Solidity, Hardhat, Foundry, and OpenZeppelin",
    "version": "1.0.0",
    "author": "Cursor Agent Factory",
    "tags": ["solidity", "ethereum", "smart-contracts", "web3", "blockchain", "hardhat", "foundry", "defi"]
  },
  "stack": {
    "primaryLanguage": "solidity",
    "frameworks": [
      {"name": "Hardhat", "version": "2.x", "purpose": "Development environment and testing"},
      {"name": "Foundry", "version": "latest", "purpose": "Fast testing and fuzzing with Forge"},
      {"name": "OpenZeppelin Contracts", "version": "5.x", "purpose": "Secure, audited contract libraries"},
      {"name": "ethers.js", "version": "6.x", "purpose": "Ethereum interaction library"},
      {"name": "viem", "version": "2.x", "purpose": "TypeScript Ethereum client (alternative)"}
    ],
    "databases": [
      {"type": "blockchain", "name": "Ethereum", "purpose": "Production deployment"},
      {"type": "blockchain", "name": "Sepolia", "purpose": "Testnet deployment"},
      {"type": "local", "name": "Hardhat Network", "purpose": "Local development"},
      {"type": "local", "name": "Anvil", "purpose": "Local Foundry node"}
    ],
    "tools": [
      {"name": "Slither", "purpose": "Static analysis for security vulnerabilities"},
      {"name": "Mythril", "purpose": "Security analysis and symbolic execution"},
      {"name": "solhint", "purpose": "Solidity linting"},
      {"name": "prettier-plugin-solidity", "purpose": "Code formatting"},
      {"name": "solidity-coverage", "purpose": "Test coverage reporting"},
      {"name": "hardhat-gas-reporter", "purpose": "Gas usage analysis"}
    ],
    "styleGuides": [
      {"name": "solidity-style-guide", "description": "Official Solidity Style Guide", "reference": "https://docs.soliditylang.org/en/latest/style-guide.html"},
      {"name": "openzeppelin-style", "description": "OpenZeppelin coding conventions", "reference": "https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/GUIDELINES.md"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"skills": ["smart-contract-audit", "grounding"]}},
    {"patternId": "test-generator", "required": true, "customizations": {"skills": ["smart-contract-testing", "tdd"]}},
    {"patternId": "security-auditor", "required": true, "customizations": {"focus": "smart-contract-security"}},
    {"patternId": "explorer", "required": false, "customizations": {"focus": "blockchain-patterns"}}
  ],
  "skills": [
    {"patternId": "smart-contract-audit", "required": true},
    {"patternId": "smart-contract-testing", "required": true},
    {"patternId": "gas-optimization", "required": false, "default": true},
    {"patternId": "bugfix-workflow", "required": true},
    {"patternId": "feature-workflow", "required": true},
    {"patternId": "grounding", "required": true},
    {"patternId": "tdd", "required": true, "default": true},
    {"patternId": "code-templates", "required": true}
  ],
  "testingApproach": {
    "modes": ["tdd-only", "foundry-fuzz", "hardhat-integration", "layered"],
    "default": "foundry-fuzz",
    "frameworks": {
      "tdd": "forge-test",
      "unit": "forge-test",
      "integration": "hardhat-test",
      "fuzz": "forge-fuzz",
      "invariant": "forge-invariant"
    },
    "modeDescriptions": {
      "tdd-only": "Unit tests with Forge - developer-focused",
      "foundry-fuzz": "Fuzz testing for edge cases - security-focused",
      "hardhat-integration": "Integration tests with Hardhat - full workflow",
      "layered": "Combined unit, fuzz, and integration testing"
    }
  },
  "knowledge": [
    {"filename": "solidity-patterns.json", "description": "Smart contract design patterns"},
    {"filename": "ethereum-security.json", "description": "Security vulnerabilities and mitigations"},
    {"filename": "erc-standards.json", "description": "ERC token standards and implementations"},
    {"filename": "naming-conventions.json", "description": "Solidity naming conventions"}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "erc20-token", "directory": "templates/solidity/contracts/"},
      {"category": "erc721-nft", "directory": "templates/solidity/contracts/"},
      {"category": "erc1155-multi", "directory": "templates/solidity/contracts/"},
      {"category": "upgradeable-proxy", "directory": "templates/solidity/contracts/"},
      {"category": "access-control", "directory": "templates/solidity/contracts/"},
      {"category": "unit-test", "directory": "templates/solidity/test/"},
      {"category": "integration-test", "directory": "templates/solidity/test/"},
      {"category": "deploy-script", "directory": "templates/solidity/scripts/"},
      {"category": "hardhat-config", "directory": "templates/solidity/config/"},
      {"category": "foundry-config", "directory": "templates/solidity/config/"}
    ],
    "documentTemplates": [
      {"name": "implementation_plan.md", "directory": "templates/docs/"},
      {"name": "security_audit.md", "directory": "templates/docs/"},
      {"name": "gas_report.md", "directory": "templates/docs/"}
    ]
  },
  "workflows": [
    {"patternId": "smart-contract-development", "customizations": {}},
    {"patternId": "security-audit-workflow", "customizations": {}},
    {"patternId": "deployment-workflow", "customizations": {}},
    {"patternId": "jira-bugfix", "customizations": {}}
  ],
  "mcpServers": [
    {"name": "deepwiki", "url": "https://mcp.deepwiki.com/mcp", "purpose": "OpenZeppelin and Ethereum documentation", "required": true},
    {"name": "atlassian", "url": "https://mcp.atlassian.com/v1/sse", "purpose": "Jira/Confluence", "required": false}
  ],
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "contracts/", "purpose": "Solidity smart contracts"},
      {"path": "contracts/interfaces/", "purpose": "Contract interfaces"},
      {"path": "contracts/libraries/", "purpose": "Reusable libraries"},
      {"path": "contracts/tokens/", "purpose": "Token contracts (ERC-20, ERC-721, etc.)"},
      {"path": "test/", "purpose": "Test files (Foundry and Hardhat)"},
      {"path": "test/unit/", "purpose": "Unit tests"},
      {"path": "test/integration/", "purpose": "Integration tests"},
      {"path": "test/fuzz/", "purpose": "Fuzz tests"},
      {"path": "scripts/", "purpose": "Deployment and utility scripts"},
      {"path": "deployments/", "purpose": "Deployment artifacts"},
      {"path": "knowledge/", "purpose": "Reference data"},
      {"path": "docs/", "purpose": "Documentation"},
      {"path": "diagrams/", "purpose": "Architecture diagrams"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "README.md", "purpose": "Project documentation"},
      {"path": "hardhat.config.ts", "purpose": "Hardhat configuration"},
      {"path": "foundry.toml", "purpose": "Foundry configuration"},
      {"path": "package.json", "purpose": "NPM dependencies"},
      {"path": "remappings.txt", "purpose": "Solidity import remappings"},
      {"path": ".env.example", "purpose": "Environment variables template"}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "SOLIDITY_VERSION", "description": "Solidity compiler version", "default": "0.8.24"},
      {"name": "CHAIN_ID", "description": "Target chain ID", "default": "1"},
      {"name": "STYLE_GUIDE", "description": "Coding style", "default": "openzeppelin"},
      {"name": "GAS_OPTIMIZATION", "description": "Enable gas optimization focus", "default": "true"}
    ],
    "rules": [
      {"name": "Security First", "description": "Always use OpenZeppelin contracts for standard functionality"},
      {"name": "Reentrancy Guard", "description": "Use ReentrancyGuard for external calls handling ETH/tokens"},
      {"name": "Access Control", "description": "Implement proper access control using OpenZeppelin AccessControl or Ownable"},
      {"name": "NatSpec", "description": "Document all public functions with NatSpec comments"},
      {"name": "Events", "description": "Emit events for all state changes"},
      {"name": "Testing", "description": "Write fuzz tests for all functions handling user input"},
      {"name": "Gas Efficiency", "description": "Use calldata instead of memory for external function parameters"},
      {"name": "Checks-Effects-Interactions", "description": "Follow CEI pattern for all external calls"}
    ]
  },
  "securityChecklist": {
    "required": [
      "Reentrancy protection on all external calls",
      "Access control on privileged functions",
      "Input validation on all parameters",
      "Integer overflow protection (Solidity 0.8+)",
      "Front-running protection where applicable",
      "Event emission for state changes"
    ],
    "recommended": [
      "Formal verification for critical functions",
      "Fuzz testing with >10,000 runs",
      "Invariant testing for protocol properties",
      "Third-party security audit before mainnet"
    ]
  },
  "gasOptimization": {
    "patterns": [
      "Use uint256 instead of smaller integers in storage",
      "Pack storage variables to reduce slots",
      "Use calldata for external function arrays",
      "Cache storage variables in memory for multiple reads",
      "Use unchecked blocks for safe arithmetic",
      "Prefer ++i over i++ in loops"
    ]
  }
}
