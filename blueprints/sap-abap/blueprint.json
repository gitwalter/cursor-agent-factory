{
  "metadata": {
    "blueprintId": "sap-abap",
    "blueprintName": "SAP ABAP Blueprint",
    "description": "Classic SAP ABAP development with Clean ABAP, ABAP Cloud, and enterprise patterns. For RAP see sap-rap, for CAP see sap-cap",
    "version": "2.1.0",
    "author": "Cursor Agent Factory",
    "tags": ["sap", "abap", "abap-cloud", "clean-abap", "enterprise", "s4hana"],
    "reference": "https://github.com/fielmann-ag/cursor-sap-development-workflow"
  },
  "stack": {
    "primaryLanguage": "abap",
    "secondaryLanguages": [],
    "frameworks": [
      {"name": "ABAP Cloud", "version": "2302+", "purpose": "Cloud-compatible ABAP development"},
      {"name": "ABAP OO", "version": "7.5+", "purpose": "Object-oriented ABAP"}
    ],
    "tools": [
      {"name": "ABAP Unit", "version": "latest", "purpose": "Unit testing framework"},
      {"name": "abaplint", "version": "latest", "purpose": "ABAP linting and static analysis"},
      {"name": "Eclipse ADT", "version": "latest", "purpose": "ABAP Development Tools IDE"},
      {"name": "ABAP Git", "version": "latest", "purpose": "Version control for ABAP"}
    ],
    "styleGuides": [
      {"name": "clean-abap", "description": "SAP Clean ABAP", "reference": "https://github.com/SAP/styleguides/blob/main/clean-abap/CleanABAP.md", "enforcement": "required"},
      {"name": "hungarian", "description": "Traditional Hungarian Notation", "enforcement": "optional"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"name": "abap-code-reviewer", "skills": ["clean-abap-review", "sap-grounding"]}},
    {"patternId": "test-generator", "required": true, "customizations": {"name": "abap-test-generator", "skills": ["tdd-abap"]}},
    {"patternId": "explorer", "required": true, "customizations": {"name": "abap-explorer"}}
  ],
  "skills": [
    {"patternId": "bugfix-workflow", "required": true, "customizations": {"name": "abap-bugfix"}},
    {"patternId": "feature-workflow", "required": true, "customizations": {"name": "abap-feature"}},
    {"patternId": "grounding", "required": true, "customizations": {"name": "sap-grounding"}},
    {"patternId": "tdd", "required": true, "customizations": {"name": "tdd-abap"}},
    {"patternId": "code-templates", "required": true}
  ],
  "knowledge": [
    {"filename": "naming-conventions.json", "description": "ABAP naming conventions (Clean/Hungarian)", "required": true},
    {"filename": "cdhdr-object-classes.json", "description": "Change document object classes"},
    {"filename": "common-table-patterns.json", "description": "SAP table patterns"},
    {"filename": "tadir-object-types.json", "description": "ABAP repository object types"},
    {"filename": "service-class-catalog.json", "description": "Service class patterns"},
    {"filename": "sap-reference-repos.json", "description": "SAP sample repositories"}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "service-class", "directory": "templates/abap/clean-abap/", "description": "Service class with dependency injection"},
      {"category": "global-class", "directory": "templates/abap/clean-abap/", "description": "General purpose ABAP class"},
      {"category": "test-class", "directory": "templates/abap/clean-abap/", "description": "ABAP Unit test class"},
      {"category": "exception-class", "directory": "templates/abap/clean-abap/", "description": "Custom exception class"},
      {"category": "factory-class", "directory": "templates/abap/clean-abap/", "description": "Factory for dependency injection"},
      {"category": "interface", "directory": "templates/abap/clean-abap/", "description": "Interface definition"},
      {"category": "enhancement", "directory": "templates/abap/clean-abap/", "description": "Enhancement implementation"},
      {"category": "report", "directory": "templates/abap/clean-abap/", "description": "Executable report with selection screen"}
    ]
  },
  "mcpServers": [
    {"name": "sap-documentation", "url": "https://mcp-sap-docs.marianzeis.de/mcp", "purpose": "SAP Help Portal, ABAP documentation", "required": true},
    {"name": "atlassian", "url": "https://mcp.atlassian.com/v1/sse", "purpose": "Jira/Confluence integration", "required": false},
    {"name": "deepwiki", "url": "https://mcp.deepwiki.com/mcp", "purpose": "SAP ABAP sample repositories", "required": false}
  ],
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "knowledge/", "purpose": "SAP reference data"},
      {"path": "src/", "purpose": "ABAP source files"},
      {"path": "src/classes/", "purpose": "ABAP classes"},
      {"path": "src/interfaces/", "purpose": "ABAP interfaces"},
      {"path": "src/reports/", "purpose": "ABAP reports"},
      {"path": "test/", "purpose": "ABAP Unit tests"},
      {"path": "docs/", "purpose": "Documentation"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "PURPOSE.md", "purpose": "Purpose document"},
      {"path": "README.md", "purpose": "Project documentation"}
    ]
  },
  "enforcement": [
    {"patternId": "clean-abap-enforcement", "required": true, "description": "Enforce Clean ABAP guidelines"},
    {"patternId": "abap-cloud-compliance", "required": false, "description": "Verify ABAP Cloud compatibility"},
    {"patternId": "abap-unit-coverage", "required": true, "description": "Require ABAP Unit test coverage"}
  ],
  "testing": {
    "frameworks": [
      {"name": "ABAP Unit", "purpose": "Unit testing", "required": true},
      {"name": "Test Double Framework", "purpose": "Mocking dependencies", "required": false}
    ],
    "patterns": [
      {"name": "Given-When-Then", "description": "Structure test methods"},
      {"name": "Test Isolation", "description": "Each test should be independent"},
      {"name": "Mock Dependencies", "description": "Use test doubles for external dependencies"},
      {"name": "Test Coverage", "description": "Aim for >80% coverage of business logic"}
    ]
  },
  "deployment": {
    "patterns": [
      {"name": "Transport Management", "description": "Use SAP Transport Management for on-premise"},
      {"name": "ABAP Git", "description": "Version control with ABAP Git"},
      {"name": "CI/CD Integration", "description": "Automated testing and deployment"}
    ],
    "tools": [
      {"name": "SAP Transport Management", "purpose": "On-premise transport management"},
      {"name": "ABAP Git", "purpose": "Git-based version control"}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "ABAP_STYLE_GUIDE", "description": "ABAP coding style", "default": "clean-abap"},
      {"name": "ABAP_CLOUD_MODE", "description": "Enable ABAP Cloud compatibility checks", "default": "false"}
    ],
    "rules": [
      {"name": "Data Model Grounding", "description": "ALWAYS verify SAP table structures before implementation. Use MCP SAP documentation server to verify."},
      {"name": "Style Guide Selection", "description": "Ask for style guide at project start. Default to Clean ABAP."},
      {"name": "Clean ABAP", "description": "Follow Clean ABAP guidelines: meaningful names, small methods, proper OO design."},
      {"name": "ABAP Cloud Compliance", "description": "When ABAP_CLOUD_MODE is enabled, only use released APIs."},
      {"name": "ABAP Unit Testing", "description": "Write ABAP Unit tests for all business logic. Use Given-When-Then pattern."},
      {"name": "Error Handling", "description": "Always use exception classes. Never use MESSAGE without exception."},
      {"name": "Dependency Injection", "description": "Use constructor injection for dependencies. Create interfaces for testability."},
      {"name": "MCP Integration", "description": "Use SAP documentation MCP for ABAP questions and API verification."}
    ]
  },
  "layerDefaults": {
    "layer0": {
      "coreAxioms": ["A1", "A2", "A3", "A4", "A5"],
      "optionalAxioms": ["A6", "A7"],
      "note": "A6 (Minimalism) keeps classes focused. A7 (Reversibility) for transport management."
    },
    "layer1": {
      "purposeTemplate": "To build maintainable SAP ABAP applications following Clean ABAP principles with proper testing and documentation",
      "stakeholders": "ABAP developers, SAP Basis team, business analysts"
    },
    "layer3": {
      "methodology": "agile-scrum",
      "note": "Scrum suits iterative ABAP development with sprints."
    }
  }
}
