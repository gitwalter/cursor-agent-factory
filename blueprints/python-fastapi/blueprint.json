{
  "metadata": {
    "blueprintId": "python-fastapi",
    "blueprintName": "Python FastAPI Blueprint",
    "description": "REST API development with Python and FastAPI",
    "version": "1.0.0",
    "author": "Cursor Agent Factory",
    "tags": ["python", "api", "rest", "fastapi", "backend"]
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {"name": "FastAPI", "version": "0.115+", "purpose": "Web framework"},
      {"name": "SQLAlchemy", "version": "2.0+", "purpose": "ORM"},
      {"name": "Pydantic", "version": "2.0+", "purpose": "Validation"},
      {"name": "Alembic", "version": "1.12+", "purpose": "Migrations"}
    ],
    "databases": [
      {"type": "sql", "name": "PostgreSQL", "purpose": "Primary database"},
      {"type": "sql", "name": "SQLite", "purpose": "Development/Testing"}
    ],
    "tools": [
      {"name": "pytest", "purpose": "Testing"},
      {"name": "ruff", "purpose": "Linting"},
      {"name": "black", "purpose": "Formatting"},
      {"name": "mypy", "purpose": "Type checking"}
    ],
    "styleGuides": [
      {"name": "pep8", "description": "PEP 8 Style Guide", "reference": "https://pep8.org"},
      {"name": "google", "description": "Google Python Style", "reference": "https://google.github.io/styleguide/pyguide.html"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"skills": ["clean-code-review", "grounding"]}},
    {"patternId": "test-generator", "required": true, "customizations": {"skills": ["tdd", "bdd"]}},
    {"patternId": "knowledge-extender", "required": true, "description": "Extend knowledge base during development"},
    {"patternId": "knowledge-evolution", "required": true, "description": "Manage and evolve project knowledge independently"},
    {"patternId": "factory-updates", "required": true, "description": "Receive updates from the Cursor Agent Factory"},
    {"patternId": "explorer", "required": false}
  ],
  "skills": [
    {"patternId": "bugfix-workflow", "required": true},
    {"patternId": "feature-workflow", "required": true},
    {"patternId": "grounding", "required": true},
    {"patternId": "tdd", "required": true, "default": true},
    {"patternId": "bdd", "required": false, "default": false, "description": "Optional BDD for stakeholder collaboration"},
    {"patternId": "test-translation", "required": false, "default": false, "description": "Translation and traceability between BDD/TDD"},
    {"patternId": "code-templates", "required": true},
    {"patternId": "extend-knowledge", "required": true, "description": "Extend knowledge base with new topics"},
    {"patternId": "receive-updates", "required": true, "description": "Receive updates from Factory"}
  ],
  "testingApproach": {
    "modes": ["tdd-only", "bdd-only", "layered", "bdd-drives-tdd", "tdd-documents-bdd", "synchronized"],
    "default": "tdd-only",
    "frameworks": {
      "tdd": "pytest",
      "bdd": "behave",
      "bddAlternative": "pytest-bdd"
    },
    "modeDescriptions": {
      "tdd-only": "Unit tests only - developer-focused",
      "bdd-only": "Feature files only - stakeholder-focused",
      "layered": "Both TDD and BDD - test pyramid",
      "bdd-drives-tdd": "Scenarios generate test stubs - outside-in",
      "tdd-documents-bdd": "Tests generate feature files - legacy docs",
      "synchronized": "Bidirectional sync - single source of truth"
    },
    "translation": {
      "bddToTdd": {
        "enabled": false,
        "template": "templates/translation/generated-test-python.py.tmpl"
      },
      "tddToBdd": {
        "enabled": false,
        "template": "templates/translation/generated-feature.feature.tmpl"
      }
    },
    "traceability": {
      "enabled": false,
      "reportTemplate": "templates/translation/traceability-report.md.tmpl"
    }
  },
  "knowledge": [
    {"filename": "naming-conventions.json", "description": "Python naming conventions"},
    {"filename": "fastapi-patterns.json", "description": "FastAPI patterns and best practices"},
    {"filename": "test-patterns.json", "description": "Pytest patterns"},
    {"filename": "tdd-patterns.json", "description": "Test-driven development patterns"},
    {"filename": "bdd-patterns.json", "description": "Behavior-driven development patterns", "optional": true}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "service-class", "directory": "templates/python/fastapi/domain/"},
      {"category": "repository", "directory": "templates/python/fastapi/domain/"},
      {"category": "model", "directory": "templates/python/fastapi/domain/"},
      {"category": "schema", "directory": "templates/python/fastapi/domain/"},
      {"category": "router", "directory": "templates/python/fastapi/domain/"},
      {"category": "config", "directory": "templates/python/fastapi/config/"},
      {"category": "main", "directory": "templates/python/fastapi/"},
      {"category": "test-class", "directory": "templates/python/fastapi/domain/"}
    ],
    "bddTemplates": [
      {"category": "feature-file", "directory": "templates/bdd/", "optional": true},
      {"category": "step-definitions", "directory": "templates/bdd/", "file": "steps-python.py.tmpl", "optional": true},
      {"category": "conftest", "directory": "templates/bdd/", "file": "conftest-bdd.py.tmpl", "optional": true}
    ],
    "documentTemplates": [
      {"name": "implementation_plan.md", "directory": "templates/docs/"},
      {"name": "technical_spec.md", "directory": "templates/docs/"},
      {"name": "test_plan.md", "directory": "templates/docs/"}
    ]
  },
  "workflows": [
    {"patternId": "jira-bugfix", "customizations": {}},
    {"patternId": "confluence-feature", "customizations": {}},
    {"patternId": "github-actions-ci", "customizations": {"template": "templates/workflows/github/ci.yml.tmpl"}}
  ],
  "mcpServers": [
    {"name": "atlassian", "url": "https://mcp.atlassian.com/v1/sse", "purpose": "Jira/Confluence", "required": false},
    {"name": "deepwiki", "url": "https://mcp.deepwiki.com/mcp", "purpose": "GitHub analysis", "required": false}
  ],
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "knowledge/", "purpose": "Reference data"},
      {"path": "templates/python/", "purpose": "Code templates"},
      {"path": "templates/docs/", "purpose": "Document templates"},
      {"path": "workflows/", "purpose": "Workflow documentation"},
      {"path": "src/", "purpose": "Application source"},
      {"path": "tests/", "purpose": "Test files"},
      {"path": "features/", "purpose": "BDD feature files", "optional": true, "whenEnabled": "bdd"},
      {"path": "features/steps/", "purpose": "Step definitions", "optional": true, "whenEnabled": "bdd"},
      {"path": "docs/", "purpose": "Documentation"},
      {"path": "diagrams/", "purpose": "Architecture diagrams"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "README.md", "purpose": "Project documentation"},
      {"path": "pyproject.toml", "purpose": "Python project config"},
      {"path": "requirements.txt", "purpose": "Dependencies"}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "PYTHON_PATH", "description": "Python executable path", "default": "python"},
      {"name": "STYLE_GUIDE", "description": "Coding style", "default": "pep8"}
    ],
    "rules": [
      {"name": "Type Hints", "description": "Always use type hints for function parameters and returns"},
      {"name": "Docstrings", "description": "Use Google-style docstrings"},
      {"name": "Testing", "description": "Write pytest tests with fixtures"}
    ]
  }
}
