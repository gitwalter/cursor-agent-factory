{
  "metadata": {
    "blueprintId": "n8n-automation",
    "blueprintName": "n8n Automation Blueprint",
    "description": "Workflow automation with n8n, JavaScript/TypeScript, and AI agent integrations",
    "version": "1.0.0",
    "author": "Cursor Agent Factory",
    "tags": ["n8n", "automation", "workflow", "javascript", "typescript", "ai", "integration"]
  },
  "stack": {
    "primaryLanguage": "javascript",
    "frameworks": [
      {"name": "n8n", "version": "1.0+", "purpose": "Workflow automation platform"},
      {"name": "Node.js", "version": "18+", "purpose": "Runtime environment"},
      {"name": "TypeScript", "version": "5+", "purpose": "Type system", "optional": true},
      {"name": "LangChain", "version": "0.1+", "purpose": "AI agent orchestration", "optional": true}
    ],
    "databases": [
      {"type": "sql", "name": "PostgreSQL", "purpose": "n8n workflow storage"},
      {"type": "sql", "name": "SQLite", "purpose": "Development/Testing", "optional": true}
    ],
    "tools": [
      {"name": "ESLint", "purpose": "Linting"},
      {"name": "Prettier", "purpose": "Formatting"},
      {"name": "Jest", "purpose": "Testing", "optional": true},
      {"name": "n8n-testing", "purpose": "Workflow testing", "optional": true}
    ],
    "styleGuides": [
      {"name": "airbnb", "description": "Airbnb JavaScript Style", "reference": "https://github.com/airbnb/javascript"},
      {"name": "n8n", "description": "n8n Best Practices", "reference": "https://docs.n8n.io"}
    ]
  },
  "agents": [
    {"patternId": "code-reviewer", "required": true, "customizations": {"skills": ["clean-code-review", "grounding"]}},
    {"patternId": "test-generator", "required": false, "customizations": {"skills": ["tdd"]}}
  ],
  "skills": [
    {"patternId": "bugfix-workflow", "required": true},
    {"patternId": "feature-workflow", "required": true},
    {"patternId": "grounding", "required": true},
    {"patternId": "code-templates", "required": true}
  ],
  "knowledge": [
    {"filename": "naming-conventions.json", "description": "JavaScript/TypeScript naming conventions"},
    {"filename": "n8n-patterns.json", "description": "n8n workflow patterns and best practices"},
    {"filename": "langchain-patterns.json", "description": "LangChain integration patterns"},
    {"filename": "workflow-patterns.json", "description": "Workflow design patterns"}
  ],
  "templates": {
    "codeTemplates": [
      {"category": "workflow", "directory": "templates/automation/n8n/workflows/"},
      {"category": "sub-workflow", "directory": "templates/automation/n8n/sub-workflows/"},
      {"category": "code-node", "directory": "templates/automation/n8n/nodes/"},
      {"category": "integration", "directory": "templates/automation/n8n/integrations/"},
      {"category": "agent", "directory": "templates/automation/n8n/agents/"},
      {"category": "utility", "directory": "templates/automation/n8n/utilities/"}
    ],
    "documentTemplates": [
      {"name": "implementation_plan.md", "directory": "templates/docs/"},
      {"name": "technical_spec.md", "directory": "templates/docs/"},
      {"name": "workflow_design.md", "directory": "templates/docs/"}
    ]
  },
  "workflows": [
    {"patternId": "jira-bugfix", "customizations": {}},
    {"patternId": "confluence-feature", "customizations": {}},
    {"patternId": "github-actions-ci", "customizations": {"template": "templates/workflows/github/ci.yml.tmpl"}}
  ],
  "mcpServers": [
    {"name": "atlassian", "url": "https://mcp.atlassian.com/v1/sse", "purpose": "Jira/Confluence integration", "required": false},
    {"name": "deepwiki", "url": "https://mcp.deepwiki.com/mcp", "purpose": "GitHub analysis", "required": false}
  ],
  "projectStructure": {
    "directories": [
      {"path": ".cursor/agents/", "purpose": "AI agent definitions"},
      {"path": ".cursor/skills/", "purpose": "Reusable skills"},
      {"path": "knowledge/", "purpose": "Reference data"},
      {"path": "templates/automation/", "purpose": "n8n workflow templates"},
      {"path": "templates/docs/", "purpose": "Document templates"},
      {"path": "workflows/", "purpose": "n8n workflow definitions"},
      {"path": "nodes/", "purpose": "Custom n8n nodes", "optional": true},
      {"path": "credentials/", "purpose": "Credential configurations", "optional": true},
      {"path": "tests/", "purpose": "Workflow and node tests"},
      {"path": "docs/", "purpose": "Documentation"},
      {"path": "scripts/", "purpose": "Utility scripts for workflow management"}
    ],
    "files": [
      {"path": ".cursorrules", "purpose": "Agent behavior rules"},
      {"path": "README.md", "purpose": "Project documentation"},
      {"path": "package.json", "purpose": "Node.js project config"},
      {"path": "tsconfig.json", "purpose": "TypeScript config", "optional": true},
      {"path": ".n8n/config.json", "purpose": "n8n configuration", "optional": true},
      {"path": "docker-compose.yml", "purpose": "Docker setup for n8n", "optional": true}
    ]
  },
  "cursorrules": {
    "variables": [
      {"name": "NODE_VERSION", "description": "Node.js version", "default": "18"},
      {"name": "STYLE_GUIDE", "description": "Coding style", "default": "airbnb"},
      {"name": "N8N_VERSION", "description": "n8n version", "default": "latest"}
    ],
    "rules": [
      {"name": "Workflow Design", "description": "Keep workflows focused and single-purpose. Use descriptive node names"},
      {"name": "Error Handling", "description": "Implement retry logic, error triggers, and fallback actions in all workflows"},
      {"name": "Credential Management", "description": "Never hardcode credentials. Use n8n credential store"},
      {"name": "Webhook Security", "description": "Validate webhook signatures and use HTTPS in production"},
      {"name": "Sub-workflows", "description": "Use sub-workflows for reusable functionality"},
      {"name": "Code Nodes", "description": "Use JavaScript/TypeScript code nodes for custom logic. Handle errors gracefully"},
      {"name": "Batch Processing", "description": "Process items in batches for large datasets and rate limit handling"},
      {"name": "Documentation", "description": "Document complex workflows and node configurations"},
      {"name": "Testing", "description": "Test workflows thoroughly before deployment"},
      {"name": "AI Integration", "description": "Use LangChain patterns for AI agent orchestration in workflows"}
    ]
  }
}
